nasm -f elf -gdwarf src/boot.s -o src/boot.o
gcc -m32 -nostdlib -fno-builtin -fno-stack-protector -nostartfiles -nodefaultlibs -Wall -Wextra -Werror -I./include -I./src/drivers -I./src/drivers/audio -I./src/drivers/usb -I. -masm=intel -g -c src/main.c -o src/main.o
gcc -m32 -nostdlib -fno-builtin -fno-stack-protector -nostartfiles -nodefaultlibs -Wall -Wextra -Werror -I./include -I./src/drivers -I./src/drivers/audio -I./src/drivers/usb -I. -masm=intel -g -c src/framebuffer.c -o src/framebuffer.o
gcc -m32 -nostdlib -fno-builtin -fno-stack-protector -nostartfiles -nodefaultlibs -Wall -Wextra -Werror -I./include -I./src/drivers -I./src/drivers/audio -I./src/drivers/usb -I. -masm=intel -g -c src/interrupts.c -o src/interrupts.o
gcc -m32 -nostdlib -fno-builtin -fno-stack-protector -nostartfiles -nodefaultlibs -Wall -Wextra -Werror -I./include -I./src/drivers -I./src/drivers/audio -I./src/drivers/usb -I. -masm=intel -g -c src/pic.c -o src/pic.o
gcc -m32 -nostdlib -fno-builtin -fno-stack-protector -nostartfiles -nodefaultlibs -Wall -Wextra -Werror -I./include -I./src/drivers -I./src/drivers/audio -I./src/drivers/usb -I. -masm=intel -g -c src/io.c -o src/io.o
gcc -m32 -nostdlib -fno-builtin -fno-stack-protector -nostartfiles -nodefaultlibs -Wall -Wextra -Werror -I./include -I./src/drivers -I./src/drivers/audio -I./src/drivers/usb -I. -masm=intel -g -c src/memory.c -o src/memory.o
gcc -m32 -nostdlib -fno-builtin -fno-stack-protector -nostartfiles -nodefaultlibs -Wall -Wextra -Werror -I./include -I./src/drivers -I./src/drivers/audio -I./src/drivers/usb -I. -masm=intel -g -c src/drivers/console.c -o src/drivers/console.o
gcc -m32 -nostdlib -fno-builtin -fno-stack-protector -nostartfiles -nodefaultlibs -Wall -Wextra -Werror -I./include -I./src/drivers -I./src/drivers/audio -I./src/drivers/usb -I. -masm=intel -g -c src/drivers/ps2.c -o src/drivers/ps2.o
gcc -m32 -nostdlib -fno-builtin -fno-stack-protector -nostartfiles -nodefaultlibs -Wall -Wextra -Werror -I./include -I./src/drivers -I./src/drivers/audio -I./src/drivers/usb -I. -masm=intel -g -c src/drivers/keyboard.c -o src/drivers/keyboard.o
gcc -m32 -nostdlib -fno-builtin -fno-stack-protector -nostartfiles -nodefaultlibs -Wall -Wextra -Werror -I./include -I./src/drivers -I./src/drivers/audio -I./src/drivers/usb -I. -masm=intel -g -c src/drivers/pci.c -o src/drivers/pci.o
gcc -m32 -nostdlib -fno-builtin -fno-stack-protector -nostartfiles -nodefaultlibs -Wall -Wextra -Werror -I./include -I./src/drivers -I./src/drivers/audio -I./src/drivers/usb -I. -masm=intel -g -c src/timer.c -o src/timer.o
gcc -m32 -nostdlib -fno-builtin -fno-stack-protector -nostartfiles -nodefaultlibs -Wall -Wextra -Werror -I./include -I./src/drivers -I./src/drivers/audio -I./src/drivers/usb -I. -masm=intel -g -c src/drivers/ahci.c -o src/drivers/ahci.o
gcc -m32 -nostdlib -fno-builtin -fno-stack-protector -nostartfiles -nodefaultlibs -Wall -Wextra -Werror -I./include -I./src/drivers -I./src/drivers/audio -I./src/drivers/usb -I. -masm=intel -g -c src/drivers/filesystem.c -o src/drivers/filesystem.o
gcc -m32 -nostdlib -fno-builtin -fno-stack-protector -nostartfiles -nodefaultlibs -Wall -Wextra -Werror -I./include -I./src/drivers -I./src/drivers/audio -I./src/drivers/usb -I. -masm=intel -g -c src/drivers/drivers.c -o src/drivers/drivers.o
gcc -m32 -nostdlib -fno-builtin -fno-stack-protector -nostartfiles -nodefaultlibs -Wall -Wextra -Werror -I./include -I./src/drivers -I./src/drivers/audio -I./src/drivers/usb -I. -masm=intel -g -c src/syscalls.c -o src/syscalls.o
gcc -m32 -nostdlib -fno-builtin -fno-stack-protector -nostartfiles -nodefaultlibs -Wall -Wextra -Werror -I./include -I./src/drivers -I./src/drivers/audio -I./src/drivers/usb -I. -masm=intel -g -c programs/terminal.c -o programs/terminal.o
gcc -m32 -nostdlib -fno-builtin -fno-stack-protector -nostartfiles -nodefaultlibs -Wall -Wextra -Werror -I./include -I./src/drivers -I./src/drivers/audio -I./src/drivers/usb -I. -masm=intel -g -c src/processes.c -o src/processes.o
gcc -m32 -nostdlib -fno-builtin -fno-stack-protector -nostartfiles -nodefaultlibs -Wall -Wextra -Werror -I./include -I./src/drivers -I./src/drivers/audio -I./src/drivers/usb -I. -masm=intel -g -c programs/editor.c -o programs/editor.o
gcc -m32 -nostdlib -fno-builtin -fno-stack-protector -nostartfiles -nodefaultlibs -Wall -Wextra -Werror -I./include -I./src/drivers -I./src/drivers/audio -I./src/drivers/usb -I. -masm=intel -g -c programs/art.c -o programs/art.o
gcc -m32 -nostdlib -fno-builtin -fno-stack-protector -nostartfiles -nodefaultlibs -Wall -Wextra -Werror -I./include -I./src/drivers -I./src/drivers/audio -I./src/drivers/usb -I. -masm=intel -g -c src/paging.c -o src/paging.o
nasm -f elf -gdwarf src/paging_asm.s -o src/paging_asm.o
nasm -f elf -gdwarf src/program_region.s -o src/program_region.o
gcc -m32 -nostdlib -fno-builtin -fno-stack-protector -nostartfiles -nodefaultlibs -Wall -Wextra -Werror -I./include -I./src/drivers -I./src/drivers/audio -I./src/drivers/usb -I. -masm=intel -g -c src/programs.c -o src/programs.o
nasm -f elf -gdwarf src/processes_asm.s -o src/processes_asm.o
gcc -m32 -nostdlib -fno-builtin -fno-stack-protector -nostartfiles -nodefaultlibs -Wall -Wextra -Werror -I./include -I./src/drivers -I./src/drivers/audio -I./src/drivers/usb -I. -masm=intel -g -c programs/hex.c -o programs/hex.o
nasm -f elf -gdwarf src/multiboot.s -o src/multiboot.o
nasm -f elf -gdwarf src/gdt.s -o src/gdt.o
nasm -f elf -gdwarf src/interrupts_asm.s -o src/interrupts_asm.o
nasm -f elf -gdwarf src/io_asm.s -o src/io_asm.o
gcc -m32 -nostdlib -fno-builtin -fno-stack-protector -nostartfiles -nodefaultlibs -Wall -Wextra -Werror -I./include -I./src/drivers -I./src/drivers/audio -I./src/drivers/usb -I. -masm=intel -g -c src/serial.c -o src/serial.o
gcc -m32 -nostdlib -fno-builtin -fno-stack-protector -nostartfiles -nodefaultlibs -Wall -Wextra -Werror -I./include -I./src/drivers -I./src/drivers/audio -I./src/drivers/usb -I. -masm=intel -g -c programs/image.c -o programs/image.o
gcc -m32 -nostdlib -fno-builtin -fno-stack-protector -nostartfiles -nodefaultlibs -Wall -Wextra -Werror -I./include -I./src/drivers -I./src/drivers/audio -I./src/drivers/usb -I. -masm=intel -g -c src/drivers/FAT.c -o src/drivers/FAT.o
gcc -m32 -nostdlib -fno-builtin -fno-stack-protector -nostartfiles -nodefaultlibs -Wall -Wextra -Werror -I./include -I./src/drivers -I./src/drivers/audio -I./src/drivers/usb -I. -masm=intel -g -c src/drivers/ISO9660.c -o src/drivers/ISO9660.o
gcc -m32 -nostdlib -fno-builtin -fno-stack-protector -nostartfiles -nodefaultlibs -Wall -Wextra -Werror -I./include -I./src/drivers -I./src/drivers/audio -I./src/drivers/usb -I. -masm=intel -g -c src/drivers/cpu.c -o src/drivers/cpu.o
gcc -m32 -nostdlib -fno-builtin -fno-stack-protector -nostartfiles -nodefaultlibs -Wall -Wextra -Werror -I./include -I./src/drivers -I./src/drivers/audio -I./src/drivers/usb -I. -masm=intel -g -c src/utilities.c -o src/utilities.o
gcc -m32 -nostdlib -fno-builtin -fno-stack-protector -nostartfiles -nodefaultlibs -Wall -Wextra -Werror -I./include -I./src/drivers -I./src/drivers/audio -I./src/drivers/usb -I. -masm=intel -g -c src/drivers/mouse.c -o src/drivers/mouse.o
gcc -m32 -nostdlib -fno-builtin -fno-stack-protector -nostartfiles -nodefaultlibs -Wall -Wextra -Werror -I./include -I./src/drivers -I./src/drivers/audio -I./src/drivers/usb -I. -masm=intel -g -c src/drivers/audio/intel_hda.c -o src/drivers/audio/intel_hda.o
gcc -m32 -nostdlib -fno-builtin -fno-stack-protector -nostartfiles -nodefaultlibs -Wall -Wextra -Werror -I./include -I./src/drivers -I./src/drivers/audio -I./src/drivers/usb -I. -masm=intel -g -c src/drivers/audio/audio.c -o src/drivers/audio/audio.o
gcc -m32 -nostdlib -fno-builtin -fno-stack-protector -nostartfiles -nodefaultlibs -Wall -Wextra -Werror -I./include -I./src/drivers -I./src/drivers/audio -I./src/drivers/usb -I. -masm=intel -g -c src/drivers/audio/pcspk.c -o src/drivers/audio/pcspk.o
gcc -m32 -nostdlib -fno-builtin -fno-stack-protector -nostartfiles -nodefaultlibs -Wall -Wextra -Werror -I./include -I./src/drivers -I./src/drivers/audio -I./src/drivers/usb -I. -masm=intel -g -c src/drivers/audio/sb16.c -o src/drivers/audio/sb16.o
gcc -m32 -nostdlib -fno-builtin -fno-stack-protector -nostartfiles -nodefaultlibs -Wall -Wextra -Werror -I./include -I./src/drivers -I./src/drivers/audio -I./src/drivers/usb -I. -masm=intel -g -c src/drivers/usb/USB.c -o src/drivers/usb/USB.o
gcc -m32 -nostdlib -fno-builtin -fno-stack-protector -nostartfiles -nodefaultlibs -Wall -Wextra -Werror -I./include -I./src/drivers -I./src/drivers/audio -I./src/drivers/usb -I. -masm=intel -g -c src/drivers/usb/ehci.c -o src/drivers/usb/ehci.o
gcc -m32 -nostdlib -fno-builtin -fno-stack-protector -nostartfiles -nodefaultlibs -Wall -Wextra -Werror -I./include -I./src/drivers -I./src/drivers/audio -I./src/drivers/usb -I. -masm=intel -g -c src/window_manager.c -o src/window_manager.o
gcc -m32 -nostdlib -fno-builtin -fno-stack-protector -nostartfiles -nodefaultlibs -Wall -Wextra -Werror -I./include -I./src/drivers -I./src/drivers/audio -I./src/drivers/usb -I. -masm=intel -g -c src/multitasking.c -o src/multitasking.o
gcc -m32 -nostdlib -fno-builtin -fno-stack-protector -nostartfiles -nodefaultlibs -Wall -Wextra -Werror -I./include -I./src/drivers -I./src/drivers/audio -I./src/drivers/usb -I. -masm=intel -g -c src/math.c -o src/math.o
ld -T link.ld -melf_i386 --allow-multiple-definition src/boot.o src/main.o src/framebuffer.o src/interrupts.o src/pic.o src/io.o src/memory.o src/drivers/console.o src/drivers/ps2.o src/drivers/keyboard.o src/drivers/pci.o src/timer.o src/drivers/ahci.o src/drivers/filesystem.o src/drivers/drivers.o src/syscalls.o programs/terminal.o src/processes.o programs/editor.o programs/art.o src/paging.o src/paging_asm.o src/program_region.o src/programs.o src/processes_asm.o programs/hex.o src/multiboot.o src/gdt.o src/interrupts_asm.o src/io_asm.o src/serial.o programs/image.o src/drivers/FAT.o src/drivers/ISO9660.o src/drivers/cpu.o src/utilities.o src/drivers/mouse.o src/drivers/audio/intel_hda.o src/drivers/audio/audio.o src/drivers/audio/pcspk.o src/drivers/audio/sb16.o src/drivers/usb/USB.o src/drivers/usb/ehci.o src/window_manager.o src/multitasking.o src/math.o -o kernel.elf
#~/copy_bin/ln -T link.ld -melf_i386 --allow-multiple-definition src/boot.o src/main.o src/framebuffer.o src/interrupts.o src/pic.o src/io.o src/memory.o src/drivers/console.o src/drivers/ps2.o src/drivers/keyboard.o src/drivers/pci.o src/timer.o src/drivers/ahci.o src/drivers/filesystem.o src/drivers/drivers.o src/syscalls.o programs/terminal.o src/processes.o programs/editor.o programs/art.o src/paging.o src/paging_asm.o src/program_region.o src/programs.o src/processes_asm.o programs/hex.o src/multiboot.o src/gdt.o src/interrupts_asm.o src/io_asm.o src/serial.o programs/image.o src/drivers/FAT.o src/drivers/ISO9660.o src/drivers/cpu.o src/utilities.o src/drivers/mouse.o src/drivers/audio/intel_hda.o src/drivers/audio/audio.o src/drivers/audio/pcspk.o src/drivers/audio/sb16.o src/drivers/usb/USB.o src/drivers/usb/ehci.o src/window_manager.o src/multitasking.o src/math.o -o kernel.elf
cd ..
cp kernel.elf iso/boot/kernel.elf
grub-mkrescue -o GreenwoodOS.img iso
rm -rf src/*.o
rm -rf src/drivers/*.o
rm -rf src/drivers/usb/*.o
rm -rf src/drivers/audio/*.o
rm -rf programs/*.o
objcopy --only-keep-debug kernel.elf kernel.sym
objcopy --strip-debug kernel.elf
mkisofs -o ./filesystem.iso ./filesystem/

xorriso 1.5.4 : RockRidge filesystem manipulator, libburnia project.

Drive current: -outdev 'stdio:GreenwoodOS.img'
Media current: stdio file, overwriteable
Media status : is blank
Media summary: 0 sessions, 0 data blocks, 0 data,  135g free
Added to ISO image: directory '/'='/tmp/grub.jyntFu'
xorriso : UPDATE :     986 files added in 1 seconds
Added to ISO image: directory '/'='/run/media/aidanb/MegaData/Programming/Projects/Greenwood OS V2/iso'
xorriso : UPDATE :     993 files added in 1 seconds
xorriso : NOTE : Copying to System Area: 512 bytes from file '/usr/lib/grub/i386-pc/boot_hybrid.img'
ISO image produced: 13842 sectors
Written to medium : 13842 sectors at LBA 0
Writing to 'stdio:GreenwoodOS.img' completed successfully.

make: Circular debug <- build dependency dropped.
Setting input-charset to 'UTF-8' from locale.
 65.57% done, estimate finish Tue May  9 21:25:45 2023
Total translation table size: 0
Total rockridge attributes bytes: 0
Total directory bytes: 26624
Path table size(bytes): 186
Max brk space used 44000
7627 extents written (14 MB)

